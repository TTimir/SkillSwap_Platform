@model IEnumerable<SkillSwap_Platform.Models.ViewModels.CategoryItemVm>
@{
    // Pull the “category” QS value once
    var currentCategory = Context.Request.Query["category"].ToString();
}
<section class="categories_list_section overflow-hidden">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="listings_category_nav_list_menu">
                    <ul class="mb0 d-flex ps-0">
                        <li>
                            <a class="@(string.IsNullOrEmpty(currentCategory) ? "active" : "")"
                               href="@Url.Action("PublicOfferList","UserOfferDetails", new { category = (string?)null })">
                                All Categories
                            </a>
                        </li>
                        @foreach (var cat in Model)
                        {
                            <li>
                                <a class="@(cat.Active ? "active" : "")"
                                   href="@Url.Action("PublicOfferList","UserOfferDetails", new { category = cat.Value })">
                                    @cat.Text
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>