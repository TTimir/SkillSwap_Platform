@using System.Security.Claims
@inject SkillSwap_Platform.Models.SkillSwapDbContext _db
@inject ILogger<Views_Shared_AdminLayout__AdminDashboardLayout> Logger
@inject SkillSwap_Platform.Services.DigitalToken.IDigitalTokenService TokenService
@inject SkillSwap_Platform.Services.AdminControls.IAdminDashboardService AdminService

@{
    // Current route
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();

    // Is this an Admin?
    bool isAdmin = User.IsInRole("Admin");

    // Pending-work counters, with safe fallbacks
    int pendingCertificates = 0,
    otpFailures = 0,
    escrowPending = 0,
    flaggedOffers = 0,
    heldUsersCount = 0,
    flaggedReviews = 0,
    flaggedProfiles = 0,
    flaggedMessages = 0;
    if (isAdmin)
    {
        try
        {
            pendingCertificates = await AdminService.GetPendingCertificatesCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load pending certificates count");
        }

        try
        {
            heldUsersCount = await AdminService.GetHeldUsersCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load held users count");
        }

        try
        {
            otpFailures = await AdminService.GetUsersWithFailedOtpCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load OTP failure count");
        }

        try
        {
            escrowPending = await AdminService.GetPendingEscrowCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load pending escrow count");
        }

        try
        {
            flaggedOffers = await AdminService.GetFlaggedOffersCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load flagged offers count");
        }

        try
        {
            flaggedReviews = await AdminService.GetFlaggedReviewsCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load flagged reviews count");
        }

        try
        {
            flaggedProfiles = await AdminService.GetActiveFlaggedUsersCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load flagged profile count");
        }

        try
        {
            flaggedMessages = await AdminService.GetFlaggedMessagesCountAsync();
        }
        catch (Exception ex)
        {
            Logger.LogError(ex, "Failed to load flagged profile count");
        }
    }
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="bidding, fiverr, freelance marketplace, freelancers, freelancing, gigs, hiring, job board, job portal, job posting, jobs marketplace, peopleperhour, proposals, sell services, upwork">
    <meta name="description" content="SkillSwap - Freelance Marketplace">
    <meta name="CreativeLayers" content="ATFN">
    <!-- css file -->
    <link rel="stylesheet" href="/template_assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/template_assets/css/ace-responsive-menu.css">
    <link rel="stylesheet" href="/template_assets/css/menu.css">
    <link rel="stylesheet" href="/template_assets/css/fontawesome.css">
    <link rel="stylesheet" href="/template_assets/css/flaticon.css">
    <link rel="stylesheet" href="/template_assets/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="/template_assets/css/animate.css">
    <link rel="stylesheet" href="/template_assets/css/slider.css">
    <link rel="stylesheet" href="/template_assets/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/template_assets/css/magnific-popup.css">
    <link rel="stylesheet" href="/template_assets/css/style.css">
    <link rel="stylesheet" href="/template_assets/css/ud-custom-spacing.css">
    <link rel="stylesheet" href="/template_assets/css/dashbord_navitaion.css">
    <link rel="stylesheet" href="~/css/tokenstyle.css" />
    <!-- Responsive stylesheet -->
    <link rel="stylesheet" href="/template_assets/css/responsive.css">
    <!-- Title -->
    <title>Freeio - Freelance Marketplace HTML Template</title>
    <!-- Favicon -->
    <link href="/template_assets/images/favicon.ico" sizes="128x128" rel="shortcut icon" type="image/x-icon" />
    <!-- Apple Touch Icon -->
    <link href="/template_assets/images/apple-touch-icon-60x60.png" sizes="60x60" rel="apple-touch-icon">
    <link href="/template_assets/images/apple-touch-icon-72x72.png" sizes="72x72" rel="apple-touch-icon">
    <link href="/template_assets/images/apple-touch-icon-114x114.png" sizes="114x114" rel="apple-touch-icon">
    <link href="/template_assets/images/apple-touch-icon-180x180.png" sizes="180x180" rel="apple-touch-icon">
    @{
        var cursorUrl = Url.Content("~/template_assets/images/SSDToken.png");
    }
    <style>
        .token-balance {
            display: flex;
            align-items: center;
            background-color: #FBF8EF;
            /* border: 1px solid #5BBB7B; */
            padding: 4px 8px;
            border-radius: 4px;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }

            .token-balance img {
                margin-right: 4px;
            }

            /* Hover state */
            .token-balance:hover {
                background-color: #004E41;
                border-color: #004E41;
                color: #fff;
                cursor: url('@cursorUrl') 16 16;
            }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body class="wrapper">

    <!-- Main Header Nav -->
    <header class="header-nav nav-innerpage-style menu-home4 dashboard_header main-menu">
        <!-- Ace Responsive Menu -->
        <nav class="posr">
            <div class="container-fluid pr30 pr15-xs pl30 posr menu_bdrt1">
                <div class="row align-items-center justify-content-between">
                    <div class="col-6 col-lg-auto">
                        <div class="text-center text-lg-start d-flex align-items-center">
                            <div class="dashboard_header_logo position-relative me-2 me-xl-5">
                                <a class="header-logo logo1" href="@Url.Action("Index","Home")">
                                    <img src="~/template_assets/images/header-logo-dark.png" alt="Header Logo" />
                                    <span class="logo-text">
                                        SkillSwap<span style="color:#5BBB7B">.</span>
                                    </span>
                                </a>
                            </div>
                            <div class="fz20 ml90">
                                <a href="#" class="dashboard_sidebar_toggle_icon vam"><img src="/template_assets/images/dashboard-navicon.svg" alt=""></a>
                            </div>
                            <a class="login-info d-block d-xl-none ml40 vam" data-bs-toggle="modal" href="#exampleModalToggle" role="button"><span class="flaticon-loupe"></span></a>
                            <div class="ml40 d-none d-xl-block">
                                <div class="search_area dashboard-style">
                                    <input type="text" class="form-control border-0" placeholder="What service are you looking for today?">
                                    <label><span class="flaticon-loupe"></span></label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-lg-auto">
                        <div class="text-center text-lg-end header_right_widgets">
                            <ul class="dashboard_dd_menu_list d-flex align-items-center justify-content-center justify-content-sm-end mb-0 p-0">
                                <li class="d-none d-sm-block">
                                    <a class="text-center mr5 text-thm2 dropdown-toggle fz20" type="button" data-bs-toggle="dropdown" href=""><span class="flaticon-notification"></span></a>
                                    @await Component.InvokeAsync("ActionNotification")
                                </li>
                                <li class="d-none d-sm-block">
                                    <a class="text-center mr5 text-thm2 dropdown-toggle fz20" type="button" data-bs-toggle="dropdown" href="">
                                        <span class="flaticon-mail"></span>@await Component.InvokeAsync("NotificationBadge", new { type = "action" })
                                    </a>
                                    @await Component.InvokeAsync("MessageNotification")
                                </li>
                                <li class="d-none d-sm-block">
                                    <a class="text-center mr5 text-thm2 dropdown-toggle fz20" href="@Url.ActionLink("Index","UserWishlist")"><span class="flaticon-like"></span></a>
                                </li>
                                @{
                                    decimal balance = 0m;
                                    if (User?.Identity?.IsAuthenticated == true)
                                    {
                                        try
                                        {
                                            var userId = int.Parse(User.FindFirst(ClaimTypes.NameIdentifier).Value);
                                            balance = await TokenService.GetBalanceAsync(userId);
                                        }
                                        catch (Exception ex)
                                        {
                                            Logger.LogError(ex, "Error fetching token balance for user.");
                                        }
                                    }
                                }
                                <li class="d-none d-sm-block token-balance">
                                    <span id="mining-dot" class="mining-dot"></span>
                                    <img src="~/template_assets/images/SSDToken.png"
                                         alt="Tokens"
                                         width="32" height="32" />
                                    <span id="token-balance">@balance.ToString("0.00")</span>
                                </li>
                                <li class="user_setting">
                                    <div class="dropdown">
                                        <a class="btn" href="#" data-bs-toggle="dropdown">
                                            @{
                                                var idClaim = User.FindFirst(ClaimTypes.NameIdentifier)?.Value;
                                                string src = "~/template_assets/images/No_Profile_img.png";

                                                if (int.TryParse(idClaim, out var uid))
                                                {
                                                    try
                                                    {
                                                        var url = _db.TblUsers
                                                        .Where(u => u.UserId == uid)
                                                        .Select(u => u.ProfileImageUrl)
                                                        .FirstOrDefault();
                                                        if (!string.IsNullOrEmpty(url))
                                                        {
                                                            src = url;
                                                        }
                                                    }
                                                    catch
                                                    {
                                                        // DB was unreachable—just leave the fallback image
                                                    }
                                                }
                                            }
                                            <div>
                                                <img src="@Url.Content(src)" alt="Swapper Photo" class="rounded" width="100" style="max-width:50%;" />
                                            </div>
                                        </a>
                                        <div class="dropdown-menu">
                                            <div class="user_setting_content">
                                                <p class="fz15 fw400 ff-heading mb10 pl30">Action   </p>
                                                <a class="dropdown-item" href="@Url.ActionLink("Index","Home")"><i class="flaticon-home mr10"></i>Skill-Swap</a>
                                                <form asp-action="Logout" asp-controller="Home" method="post" class="d-inline">
                                                    @Html.AntiForgeryToken()
                                                    <button type="submit" class="btn btn-link text-decoration-none dropdown-item">
                                                        <i class="flaticon-logout mr10"></i> Logout
                                                    </button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>
    <!-- Search Modal -->
    <div class="search-modal">
        <div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalToggleLabel"></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fal fa-xmark"></i></button>
                    </div>
                    <div class="modal-body">
                        <div class="popup-search-field search_area">
                            <input type="text" class="form-control border-0" placeholder="What service are you looking for today?">
                            <label><span class="far fa-magnifying-glass"></span></label>
                            <button class="ud-btn btn-thm" type="submit">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Nav  -->
    <div id="page" class="mobilie_header_nav stylehome1">
        <div class="mobile-menu">
            <div class="header bdrb1">
                <div class="menu_and_widgets">
                    <div class="mobile_menu_bar d-flex justify-content-between align-items-center">
                        <a class="mobile_logo" href="#"><img src="/template_assets/images/header-logo3.svg" alt=""></a>
                        <div class="right-side text-end">
                            <a class="" href="page-login.html">join</a>
                            <a class="menubar ml30" href="#menu"><img src="/template_assets/images/mobile-dark-nav-icon.svg" alt=""></a>
                        </div>
                    </div>
                </div>
                <div class="posr"><div class="mobile_menu_close_btn"><span class="far fa-times"></span></div></div>
            </div>
        </div>
        <!-- /.mobile-menu -->
        <nav id="menu" class="">
            <ul>
                @if (User.IsInRole("Admin"))
                {
                    <li>
                        <a class="list-item"
                           asp-area="Admin"
                           asp-controller="AdminDashboard"
                           asp-action="Index">
                            <span class="title">Admin Panel</span>
                        </a>
                    </li>
                }
                <li>
                    <a class="list-item" href="@Url.ActionLink("Index","Home")"><span class="title">Home</span></a>
                </li>
                <li>
                    <a class="list-item" href="@Url.ActionLink("PublicOfferList","UserOfferDetails")"><span class="title">Swap Offers</span></a>
                </li>
                <li>
                    <a class="list-item" href="@Url.ActionLink("PublicProfileList","UserProfileList")"><span class="title">Swappers</span></a>
                </li>
                <li>
                    <a class="list-item" href="@Url.ActionLink("HowItWorks","Home")"><span class="title">How It Works</span></a>
                </li>
                <li>
                    <a class="list-item" href="@Url.ActionLink("About","Home")"><span class="title">About</span></a>
                </li>
                <li>
                    <a class="list-item" href="@Url.ActionLink("Contact","Home")"><span class="title">Contact</span></a>
                </li>
                <!-- Only for Mobile View -->
            </ul>
        </nav>
    </div>

    <div class="dashboard_content_wrapper">
        <div class="dashboard dashboard_wrapper pr30 pr0-xl">
            <div class="dashboard__sidebar d-none d-lg-block">
                <div class="dashboard_sidebar_list">
                    @if (isAdmin)
                    {
                        <p class="fz15 fw400 ff-heading pl30">Start</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","Metrics", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Metrics" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-home-1 mr15"></i>
                                Matrix Dashboard
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","AdminDashboard", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="AdminDashboard" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-house mr15"></i>
                                Dashboard
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Dashboard","AdminMining", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="AdminMining" && currentAction=="Dashboard" ? "-is-active" : "")">
                                <i class="flaticon-money mr15"></i>
                                Token Emit Setting
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","FaqAdmin", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="FaqAdmin" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-chat mr15"></i>
                                Manage FAQs
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","CertificateReview", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="CertificateReview" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-document mr15"></i>
                                Review Certificates
                                @if (pendingCertificates > 0)
                                {
                                    <span class="badge badge-pill bg-danger ms-auto">@pendingCertificates</span>
                                }
                            </a>
                        </div>

                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","MessageReview", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="MessageReview" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-review-1 mr15"></i>
                                Review Messages
                                @if (flaggedMessages > 0)
                                {
                                    <span class="badge badge-pill bg-info ms-auto">@flaggedMessages</span>
                                }
                            </a>
                        </div>

                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","OtpLogs", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OtpLogs" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-antivirus mr15"></i>
                                OTP Failures
                                @if (otpFailures > 0)
                                {
                                    <span class="badge badge-pill bg-warning ms-auto">@otpFailures</span>
                                }
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Search Terms</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Users","AdminSearch", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="AdminSearch" && currentAction=="Users" ? "-is-active" : "")">
                                <i class="flaticon-photo mr15"></i>
                                User Profile
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Offers","AdminSearch", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="AdminSearch" && currentAction=="Offers" ? "-is-active" : "")">
                                <i class="flaticon-briefcase mr15"></i>
                                Swap Offers
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Email & Manage</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("SendNewsletter","Newsletter", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Newsletter" && currentAction=="SendNewsletter" ? "-is-active" : "")">
                                <i class="flaticon-rocket mr15"></i>
                                Send Newsletter
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("History","Newsletter", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Newsletter" && currentAction=="History" ? "-is-active" : "")">
                                <i class="flaticon-mail mr15"></i>
                                Newsletter History
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("SendToUser","Newsletter", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Newsletter" && currentAction=="SendToUser" ? "-is-active" : "")">
                                <i class="flaticon-notification mr15"></i>
                                Send To User
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Escrow & Transactions</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Dashboard","Escrow", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Escrow" && currentAction=="InDashboarddex" ? "-is-active" : "")">
                                <i class="flaticon-pay-day mr15"></i>
                                Escrow Statement
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","Escrow", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="Escrow" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-dollar mr15"></i>
                                Escrow Counters
                                @if (escrowPending > 0)
                                {
                                    <span class="badge badge-pill bg-info ms-auto">@escrowPending</span>
                                }
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Swap Offer & Reports</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Dashboard","OfferFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OfferFlag" && currentAction=="Dashboard" ? "-is-active" : "")">
                                <i class="flaticon-home mr15"></i>
                                Reports Dashboard
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","OfferFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OfferFlag" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-presentation mr15"></i>
                                Active Reports
                                @if (flaggedOffers > 0)
                                {
                                    <span class="badge badge-pill bg-danger ms-auto">@flaggedOffers</span>
                                }
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("History","OfferFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OfferFlag" && currentAction=="History" ? "-is-active" : "")">
                                <i class="flaticon-briefcase mr15"></i>
                                Reported Offers
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Offer's Review & Reports</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("ActiveFlags","OfferReview", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OfferReview" && currentAction=="ActiveFlags" ? "-is-active" : "")">
                                <i class="flaticon-review mr15"></i>
                                Active Reports
                                @if (flaggedReviews > 0)
                                {
                                    <span class="badge badge-pill bg-danger ms-auto">@flaggedReviews</span>
                                }
                            </a>
                        </div>

                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Reviews","OfferReview", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="OfferReview" && currentAction=="Reviews" ? "-is-active" : "")">
                                <i class="flaticon-review-1 mr15"></i>
                                Reported Offer's Reviews
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">User Profile & Reports</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Dashboard","UserFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="UserFlag" && currentAction=="Dashboard" ? "-is-active" : "")">
                                <i class="flaticon-home mr15"></i>
                                Reports Dashboard
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","UserFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="UserFlag" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-working mr15"></i>
                                Active Reports
                                @if (flaggedProfiles > 0)
                                {
                                    <span class="badge badge-pill bg-danger ms-auto">@flaggedProfiles</span>
                                }
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("History","UserFlag", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="UserFlag" && currentAction=="History" ? "-is-active" : "")">
                                <i class="flaticon-flag mr15"></i>
                                Reported Users
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","UserManagement", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="UserManagement" ? "-is-active" : "")">
                                <i class="flaticon-sand-clock mr15"></i>
                                Held Users
                                @if (heldUsersCount > 0)
                                {
                                    <span class="badge badge-pill bg-danger ms-auto">@heldUsersCount</span>
                                }
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Privacy & Manage</p>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","SensitiveWords", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="SensitiveWords" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-secure mr15"></i>
                                Sensitive Words
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Create","SensitiveWords", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="SensitiveWords" && currentAction=="Create" ? "-is-active" : "")">
                                <i class="flaticon-add mr15"></i>
                                Add Sensitive Words
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Index","PrivacySensitiveWords", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="PrivacySensitiveWords" && currentAction=="Index" ? "-is-active" : "")">
                                <i class="flaticon-antivirus mr15"></i>
                                Privacy Words
                            </a>
                        </div>
                        <div class="sidebar_list_item">
                            <a href="@Url.ActionLink("Create","PrivacySensitiveWords", new { area = "Admin" })"
                               class="d-flex items-center @(currentController=="PrivacySensitiveWords" && currentAction=="Create" ? "-is-active" : "")">
                                <i class="flaticon-add mr15"></i>
                                Add Privacy Words
                            </a>
                        </div>

                        <p class="fz15 fw400 ff-heading pl30 mt30">Account</p>
                        <div class="sidebar_list_item">
                            <!-- hidden logout form -->
                            <form id="logoutForm"
                                  asp-controller="Home"
                                  asp-action="Logout"
                                  method="post"
                                  class="d-none">
                                @Html.AntiForgeryToken()
                            </form>

                            <!-- visible link that submits the form -->
                            <a href="javascript:document.getElementById('logoutForm').submit();"
                               class="items-center"
                               title="Logout">
                                <i class="flaticon-logout mr15"></i>
                                Logout
                            </a>
                        </div>
                    }
                </div>
            </div>
            <div class="dashboard__main pl0-md">
                <div class="dashboard__content hover-bgc-color">
                    <div class="row pb40">
                        <div class="col-lg-12">
                            <div class="dashboard_navigationbar d-block d-lg-none">
                                <div class="dropdown">
                                    <button onclick="myFunction()" class="dropbtn"><i class="fa fa-bars pr10"></i> Dashboard Navigation</button>
                                    <ul id="myDropdown" class="dropdown-content">
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Start</p></li>
                                        <li><a href="@Url.ActionLink("Index","AdminDashboard")"><i class="flaticon-house mr10"></i>Dashboard</a></li>
                                        <li><a href="@Url.ActionLink("Index","FaqAdmin")"><i class="flaticon-chat mr10"></i>Manage FAQs</a></li>
                                        <li><a href="@Url.ActionLink("Index","CertificateReview")"><i class="flaticon-document mr10"></i>Review Certificates</a></li>
                                        <li><a href="@Url.ActionLink("Index","MessageReview")"><i class="flaticon-review-1 mr10"></i>Review Messages</a></li>
                                        <li><a href="@Url.ActionLink("Index","OtpLogs")"><i class="flaticon-antivirus mr10"></i>OTP Failures</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Escrow & Transactions</p></li>
                                        <li><a href="@Url.ActionLink("Dashboard","Escrow")"><i class="flaticon-pay-day mr10"></i>Escrow Statement</a></li>
                                        <li><a href="@Url.ActionLink("Index","Escrow")"><i class="flaticon-dollar mr10"></i>Escrow Counters</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Swap Offer & Reports</p></li>
                                        <li><a href="@Url.ActionLink("Dashboard","OfferFlag")"><i class="flaticon-home mr10"></i>Reports Dashboard</a></li>
                                        <li><a href="@Url.ActionLink("Index","OfferFlag")"><i class="flaticon-presentation mr10"></i>Active Reports</a></li>
                                        <li><a href="@Url.ActionLink("History","OfferFlag")"><i class="flaticon-briefcase mr10"></i> Reported Offers</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Offer's Review & Reports</p></li>
                                        <li><a href="@Url.ActionLink("ActiveFlags","OfferReview")"><i class="flaticon-review mr10"></i>Active Reports</a></li>
                                        <li><a href="@Url.ActionLink("Reviews","OfferReview")"><i class="flaticon-review-1 mr10"></i> Reported Offer's Reviews</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">User Profile & Reports</p></li>
                                        <li><a href="@Url.ActionLink("Dashboard","UserFlag")"><i class="flaticon-home mr10"></i>Reports Dashboard</a></li>
                                        <li><a href="@Url.ActionLink("Index","UserFlag")"><i class="flaticon-working mr10"></i> Active Reports</a></li>
                                        <li><a href="@Url.ActionLink("History","UserFlag")"><i class="flaticon-flag mr10"></i> Reported Users</a></li>
                                        <li><a href="@Url.ActionLink("Index","UserManagement")"><i class="flaticon-sand-clock mr10"></i>Held Users</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Privacy & Manage</p></li>
                                        <li><a href="@Url.ActionLink("Index","SensitiveWords")"><i class="flaticon-secure mr10"></i>Sensitive Words</a></li>
                                        <li><a href="@Url.ActionLink("Create","SensitiveWords")"><i class="flaticon-add mr10"></i>Add Sensitive Words</a></li>
                                        <li><a href="@Url.ActionLink("Index","PrivacySensitiveWords")"><i class="flaticon-antivirus mr10"></i>Privacy Words</a></li>
                                        <li><a href="@Url.ActionLink("Create","PrivacySensitiveWords")"><i class="flaticon-add mr10"></i>Add Privacy Words</a></li>
                                        <li><p class="fz15 fw400 ff-heading mt30 pl30">Account</p></li>
                                        <li>
                                            <form asp-action="Logout" asp-controller="Home" method="post" class="d-inline">
                                                @Html.AntiForgeryToken()
                                                <button type="submit" class="btn btn-link text-decoration-none dropdown-item">
                                                    <i class="flaticon-logout mr10"></i> Logout
                                                </button>
                                            </form>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        @RenderBody()
                    </div>
                </div>
            </div>

            <a class="scrollToHome" href="#"><i class="fas fa-angle-up"></i></a>

            <!-- Footer -->
            <footer class="dashboard_footer pt30 pb30">
                <div class="container">
                    <div class="row align-items-center justify-content-center justify-content-md-between">
                        <div class="col-auto">
                            <div class="copyright-widget">
                                <p class="mb-md-0">© SkillSwap. 2025 DsignGrid. All rights reserved.</p>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="footer_bottom_right_btns at-home8 text-center text-lg-end">
                                <ul class="p-0 m-0">
                                    <li class="list-inline-item bg-white">
                                        <select class="selectpicker show-tick">
                                            <option>US$ USD</option>
                                            <option>Euro</option>
                                            <option>Pound</option>
                                        </select>
                                    </li>
                                    <li class="list-inline-item bg-white">
                                        <select class="selectpicker show-tick">
                                            <option>English</option>
                                            <option>Frenc</option>
                                            <option>Italian</option>
                                            <option>Spanish</option>
                                            <option>Turkey</option>
                                        </select>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

        <!-- Wrapper End -->
        <script src="/template_assets/js/jquery-3.6.4.min.js"></script>
        <script src="/template_assets/js/jquery-migrate-3.0.0.min.js"></script>
        <script src="/template_assets/js/popper.min.js"></script>
        <script src="/template_assets/js/bootstrap.min.js"></script>
        <script src="/template_assets/js/bootstrap-select.min.js"></script>
        <script src="/template_assets/js/jquery.mmenu.all.js"></script>
        <script src="/template_assets/js/ace-responsive-menu.js"></script>
        <script src="/template_assets/js/chart.min.js"></script>
        <script src="/template_assets/js/chart-custome.js"></script>
        <script src="/template_assets/js/jquery-scrolltofixed-min.js"></script>
        <script src="/template_assets/js/dashboard-script.js"></script>
        <!-- Custom script for all pages -->
        <script src="/template_assets/js/script.js"></script>
        @if (User.Identity.IsAuthenticated)
        {
            <script src="~/js/Tokenminer.js" asp-append-version="true"></script>
        }
        @RenderSection("DynamicAdminScript", required: false)
</body>
</html>
